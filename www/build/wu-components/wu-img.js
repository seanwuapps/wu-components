/*! Built with http://stenciljs.com */
const{h:s}=window.WuComponents;class t{constructor(){this.loaded=!1,this.loadedSrc="",this.componentWillLoad=(()=>{this.thumb||(this.loadedSrc=this.src),this.loadedSrc=this.thumb}),this.componentDidLoad=(()=>{this.thumb||(this.loadedSrc=this.src,this.imgClasses=this.imgClasses+" enhanced",this.img=this.el.querySelector("img"),this.img.className=this.imgClasses),this.initImage()}),this.initImage=(()=>{this.loaded||(this.img=this.el.querySelector("img"),this.imgClasses=this.el.className,this.el.className="",this.img.className=this.imgClasses,this.img.onload=this.onImageLoaded)}),this.onImageLoaded=(()=>{if(this.img.src===this.src)return this.imgClasses=this.imgClasses+" enhanced",this.img.className=this.imgClasses,void(this.loaded=!0);this.loadedSrc=this.src})}render(){return[s("img",{src:this.loadedSrc,alt:this.alt}),s("img",{src:this.loadedSrc,alt:this.alt})]}static get is(){return"wu-img"}static get properties(){return{alt:{type:String,attr:"alt"},el:{elementRef:!0},loaded:{state:!0},loadedSrc:{state:!0},src:{type:String,attr:"src"},thumb:{type:String,attr:"thumb"}}}static get style(){return"wu-img{display:inherit}wu-img img{max-width:100%;transition:filter .4s ease-out}wu-img img:not(.enhanced){filter:blur(10px)}"}}export{t as WuImg};